import{x as n}from"./index-C1nZs7mf.mjs";const p=[{id:"d0",name:"กานต์สินี ศุทธวัฒน์พงษ์",position:"นายแพทย์ชำนาญการ",specialty:"รักษาการในตำแหน่ง ผู้อำนวยการ",imageUrl:"https://placehold.co/150x150/f0f0f0/333333?text=Director",tel:"100",isDirector:!0},{id:"d1",name:"อัญมณี สีลอ",position:"นักจัดการงานทั่วไปปฏิบัติการ",specialty:"หัวหน้ากลุ่มบริหารทั่วไป",imageUrl:"https://placehold.co/100x100/f0f0f0/333333?text=Doc1",tel:"145",isDirector:!1},{id:"d2",name:"ไชยา บุญสู",position:"พยาบาลวิชาชีพชํานาญการ",specialty:"หัวหน้างานประกันสุขภาพ",imageUrl:"https://placehold.co/100x100/f0f0f0/333333?text=Doc2",tel:"333",isDirector:!1}],l=[{id:"a1",name:"กานต์สินี ศุทธวัฒน์พงษ์",position:"นายแพทย์ชำนาญการ",specialty:"รักษาการผู้อำนวยการ",imageUrl:"https://placehold.co/100x100/e0e0e0/333333?text=Dir",tel:"100",isDirector:!0},{id:"a2",name:"อัญมณี สีลอ",position:"นักจัดการงานทั่วไปปฏิบัติการ",specialty:"หัวหน้ากลุ่มบริหารทั่วไป",imageUrl:"https://placehold.co/100x100/e0e0e0/333333?text=Adm1",tel:"145",isDirector:!1},{id:"a3",name:"ไชยา บุญสู",position:"พยาบาลวิชาชีพชํานาญการ",specialty:"หัวหน้างานประกันสุขภาพ",imageUrl:"https://placehold.co/100x100/e0e0e0/333333?text=Adm2",tel:"333",isDirector:!1}];function c(t){if(!t)return"";if(/^https?:\/\//i.test(t))return t;const e="https://api.maetaeng.go.th/api/v1".trim(),i=(n.defaults.baseURL||"").trim();let o=e||i;!o&&typeof window<"u"&&(o=window.location.origin);const s=o.replace(/\/+$/,""),a=String(t).replace(/^\/+/,"");return`${s}/${a}`}function r(t){return t.map(e=>{const i=e.isDirector;return{id:e.id,name:e.name,position:e.position||"ไม่ระบุตำแหน่ง",specialty:e.specialty||void 0,imageUrl:c(e.imageUrl),tel:e.tel||void 0,isDirector:i}})}async function m(){try{const e=(await n.get("/personnel")).data.data||[];return r(e)}catch(t){return console.error("Failed to fetch public personnel list:",t),p}}async function d(){try{const e=(await n.get("/personnel/all")).data.data||[];return r(e)}catch(t){return console.error("Failed to fetch admin personnel list:",t),l}}async function u(t){const e=new FormData;return e.append("name",t.name),e.append("position",t.position),t.specialty&&e.append("specialty",t.specialty),t.tel&&e.append("tel",t.tel),t.imageFile&&e.append("file",t.imageFile,t.imageFile.name),e.append("isDirector",String(t.isDirector)),(await n.post("/personnel",e,{headers:{"Content-Type":"multipart/form-data"}})).data.data}async function D(t,e){const i=new FormData;return i.append("name",e.name),i.append("position",e.position),i.append("isDirector",String(e.isDirector)),e.specialty&&i.append("specialty",e.specialty),e.tel&&i.append("tel",e.tel),e.imageFile&&i.append("file",e.imageFile,e.imageFile.name),(await n.patch(`/personnel/${t}`,i,{headers:{"Content-Type":"multipart/form-data"}})).data.data}async function g(t){await n.delete(`/personnel/${t}`)}export{d as a,u as c,g as d,m as g,D as u};
