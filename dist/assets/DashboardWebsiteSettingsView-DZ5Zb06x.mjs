import{d as h,B as U,y as M,u as V,r as p,l as N,o as D,J as I,c as f,a as m,b as l,e as r,t as b,m as E,D as S,f as a,v as d,w as T,V as X,W as q,X as C}from"./index-C1nZs7mf.mjs";const R={class:"p-6 bg-white rounded-xl shadow-2xl transition duration-500"},Y={class:"text-3xl font-extrabold text-gray-800 mb-2 flex items-center"},F={class:"flex justify-between items-center mb-4 border-b pb-4"},z={class:"text-gray-600"},L={class:"card bg-gray-200 p-6 rounded-xl shadow-lg border-t-4 border-blue-500"},B={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},A={class:"col-span-full"},W={class:"card bg-gray-200 p-6 rounded-xl shadow-lg border-t-4 border-green-500"},j={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},G={class:"col-span-full"},H={class:"card bg-gray-200 p-6 rounded-xl shadow-lg border-t-4 border-cyan-500"},J={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},K={class:"col-span-full"},O={class:"card bg-gray-200 p-6 rounded-xl shadow-lg border-t-4 border-yellow-500"},$={class:"space-y-4"},P={class:"text-xs text-gray-500 mt-1"},Q={class:"pt-4 flex justify-end"},Z=["disabled"],_={key:0,class:"fas fa-spinner fa-spin mr-2"},ee={key:1,class:"fas fa-save mr-2"},se=h({__name:"DashboardWebsiteSettingsView",setup(le){const g=U(),c=M(),i=V(),t=p({id:"",hospitalNameTh:"",hospitalNameEn:"",address:"",zipCode:"",province:"",telMain:"",fax:"",emailMain:"",facebookUrl:"",lineId:"",youtubeUrl:"",twitterUrl:"",googleMapIframe:"",metaDescription:"",keywords:"",isActive:!1}),x=p(!1),u=p(!1),n=N(()=>!!g.query.id),y=async()=>{const o=g.query.id;if(o){x.value=!0;try{const e=await X(o);t.value=e}catch(e){i.error("ไม่สามารถโหลดข้อมูลได้"),console.error("Failed to load settings:",e)}finally{x.value=!1}}},v=()=>{const o=t.value;return o.hospitalNameTh?.trim()?o.hospitalNameEn?.trim()?o.address?.trim()?o.zipCode?.trim()?o.province?.trim()?o.telMain?.trim()?o.fax?.trim()?o.emailMain?.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o.emailMain)?!0:(i.error("รูปแบบอีเมลไม่ถูกต้อง"),!1):(i.error("กรุณากรอกอีเมลหลัก"),!1):(i.error("กรุณากรอกเบอร์โทรสาร (FAX)"),!1):(i.error("กรุณากรอกเบอร์โทรศัพท์หลัก"),!1):(i.error("กรุณากรอกจังหวัด"),!1):(i.error("กรุณากรอกรหัสไปรษณีย์"),!1):(i.error("กรุณากรอกที่อยู่โรงพยาบาล"),!1):(i.error("กรุณากรอกชื่อโรงพยาบาล (ภาษาอังกฤษ)"),!1):(i.error("กรุณากรอกชื่อโรงพยาบาล (ภาษาไทย)"),!1)},w=async()=>{if(v()){u.value=!0;try{n.value&&t.value.id?(await q(t.value.id,t.value),i.success("อัพเดทการตั้งค่าเว็บไซต์สำเร็จ!"),c.push("/dashboard/website-settings-list")):(await C(t.value),i.success("สร้างการตั้งค่าเว็บไซต์สำเร็จ!"),c.push("/dashboard/website-settings-list"))}catch(o){console.error("Error saving website settings:",o),i.error(n.value?"อัพเดทการตั้งค่าล้มเหลว":"สร้างการตั้งค่าล้มเหลว")}finally{u.value=!1}}};return D(()=>{n.value&&y()}),(o,e)=>{const k=I("router-link");return m(),f("div",R,[l("h2",Y,[e[15]||(e[15]=l("i",{class:"fas fa-globe mr-4 text-cyan-600"},null,-1)),r(" "+b(n.value?"แก้ไขตั้งค่าเว็บไซต์":"สร้างตั้งค่าเว็บไซต์ใหม่"),1)]),l("div",F,[l("p",z,b(n.value?"แก้ไขข้อมูลการตั้งค่าเว็บไซต์":"สร้างข้อมูลการตั้งค่าเว็บไซต์ใหม่")+" เช่น ชื่อโรงพยาบาล, ที่อยู่, เบอร์โทรศัพท์, และช่องทางติดต่ออื่นๆ ",1),E(k,{to:"/dashboard/website-settings-list",class:"flex items-center bg-purple-600 text-white px-6 py-2 rounded-lg hover:bg-purple-700 transition duration-300 shadow-md whitespace-nowrap"},{default:S(()=>e[16]||(e[16]=[l("i",{class:"fas fa-list mr-2"},null,-1),r(" ดูข้อมูลทั้งหมด ")])),_:1,__:[16]})]),l("form",{onSubmit:T(w,["prevent"]),class:"space-y-8"},[l("div",L,[e[22]||(e[22]=l("h3",{class:"text-xl font-bold text-gray-800 mb-4 flex items-center"},[l("i",{class:"fas fa-info-circle mr-2 text-blue-500"}),r(" ข้อมูลทั่วไป ")],-1)),l("div",B,[l("div",null,[e[17]||(e[17]=l("label",{for:"hospitalNameTh",class:"block text-sm font-semibold text-gray-700"},[r("ชื่อโรงพยาบาล (เต็ม): "),l("span",{class:"text-red-500"},"*")],-1)),a(l("input",{type:"text",id:"hospitalNameTh","onUpdate:modelValue":e[0]||(e[0]=s=>t.value.hospitalNameTh=s),required:"",class:"mt-1 block w-full border-gray-300 rounded-lg shadow-sm p-3 placeholder-gray-400 focus:ring-blue-500 focus:border-blue-500",placeholder:"โรงพยาบาลแม่แตง"},null,512),[[d,t.value.hospitalNameTh]])]),l("div",null,[e[18]||(e[18]=l("label",{for:"hospitalNameEn",class:"block text-sm font-semibold text-gray-700"},[r("ชื่อโรงพยาบาล (English/ชื่อย่อ): "),l("span",{class:"text-red-500"},"*")],-1)),a(l("input",{type:"text",id:"hospitalNameEn","onUpdate:modelValue":e[1]||(e[1]=s=>t.value.hospitalNameEn=s),required:"",class:"mt-1 block w-full border-gray-300 rounded-lg shadow-sm p-3 placeholder-gray-400 focus:ring-blue-500 focus:border-blue-500",placeholder:"Maetaeng Hospital"},null,512),[[d,t.value.hospitalNameEn]])]),l("div",A,[e[19]||(e[19]=l("label",{for:"address",class:"block text-sm font-semibold text-gray-700"},[r("ที่อยู่โรงพยาบาล: "),l("span",{class:"text-red-500"},"*")],-1)),a(l("textarea",{id:"address","onUpdate:modelValue":e[2]||(e[2]=s=>t.value.address=s),rows:"3",required:"",class:"mt-1 block w-full border-gray-300 rounded-lg shadow-sm p-3 placeholder-gray-400 focus:ring-blue-500 focus:border-blue-500"},null,512),[[d,t.value.address]])]),l("div",null,[e[20]||(e[20]=l("label",{for:"zipCode",class:"block text-sm font-semibold text-gray-700"},[r("รหัสไปรษณีย์: "),l("span",{class:"text-red-500"},"*")],-1)),a(l("input",{type:"text",id:"zipCode","onUpdate:modelValue":e[3]||(e[3]=s=>t.value.zipCode=s),required:"",class:"mt-1 block w-full border-gray-300 rounded-lg shadow-sm p-3 placeholder-gray-400 focus:ring-blue-500 focus:border-blue-500"},null,512),[[d,t.value.zipCode]])]),l("div",null,[e[21]||(e[21]=l("label",{for:"province",class:"block text-sm font-semibold text-gray-700"},[r("จังหวัด: "),l("span",{class:"text-red-500"},"*")],-1)),a(l("input",{type:"text",id:"province","onUpdate:modelValue":e[4]||(e[4]=s=>t.value.province=s),required:"",class:"mt-1 block w-full border-gray-300 rounded-lg shadow-sm p-3 placeholder-gray-400 focus:ring-blue-500 focus:border-blue-500"},null,512),[[d,t.value.province]])])])]),l("div",W,[e[26]||(e[26]=l("h3",{class:"text-xl font-bold text-gray-800 mb-4 flex items-center"},[l("i",{class:"fas fa-phone-alt mr-2 text-green-600"}),r(" ข้อมูลการติดต่อ ")],-1)),l("div",j,[l("div",null,[e[23]||(e[23]=l("label",{for:"telMain",class:"block text-sm font-semibold text-gray-700"},[r("เบอร์โทรศัพท์หลัก: "),l("span",{class:"text-red-500"},"*")],-1)),a(l("input",{type:"tel",id:"telMain","onUpdate:modelValue":e[5]||(e[5]=s=>t.value.telMain=s),required:"",class:"mt-1 block w-full border-gray-300 rounded-lg shadow-sm p-3 placeholder-gray-400 focus:ring-blue-500 focus:border-blue-500",placeholder:"053-XXX-XXXX"},null,512),[[d,t.value.telMain]])]),l("div",null,[e[24]||(e[24]=l("label",{for:"fax",class:"block text-sm font-semibold text-gray-700"},[r("เบอร์โทรสาร (FAX): "),l("span",{class:"text-red-500"},"*")],-1)),a(l("input",{type:"tel",id:"fax","onUpdate:modelValue":e[6]||(e[6]=s=>t.value.fax=s),required:"",class:"mt-1 block w-full border-gray-300 rounded-lg shadow-sm p-3 placeholder-gray-400 focus:ring-blue-500 focus:border-blue-500",placeholder:"053-YYY-YYYY"},null,512),[[d,t.value.fax]])]),l("div",G,[e[25]||(e[25]=l("label",{for:"emailMain",class:"block text-sm font-semibold text-gray-700"},[r("อีเมลหลัก: "),l("span",{class:"text-red-500"},"*")],-1)),a(l("input",{type:"email",id:"emailMain","onUpdate:modelValue":e[7]||(e[7]=s=>t.value.emailMain=s),required:"",class:"mt-1 block w-full border-gray-300 rounded-lg shadow-sm p-3 placeholder-gray-400 focus:ring-blue-500 focus:border-blue-500",placeholder:"info@yourhospital.com"},null,512),[[d,t.value.emailMain]])])])]),l("div",H,[e[33]||(e[33]=l("h3",{class:"text-xl font-bold text-gray-800 mb-4 flex items-center"},[l("i",{class:"fas fa-share-alt mr-2 text-cyan-600"}),r(" Social Media / แผนที่ ")],-1)),l("div",J,[l("div",null,[e[27]||(e[27]=l("label",{for:"facebookUrl",class:"block text-sm font-semibold text-gray-700"},"Facebook URL:",-1)),a(l("input",{type:"url",id:"facebookUrl","onUpdate:modelValue":e[8]||(e[8]=s=>t.value.facebookUrl=s),class:"mt-1 block w-full border-gray-300 rounded-lg shadow-sm p-3 placeholder-gray-400 focus:ring-blue-500 focus:border-blue-500",placeholder:"https://www.facebook.com/..."},null,512),[[d,t.value.facebookUrl]])]),l("div",null,[e[28]||(e[28]=l("label",{for:"lineId",class:"block text-sm font-semibold text-gray-700"},"LINE ID/URL:",-1)),a(l("input",{type:"text",id:"lineId","onUpdate:modelValue":e[9]||(e[9]=s=>t.value.lineId=s),class:"mt-1 block w-full border-gray-300 rounded-lg shadow-sm p-3 placeholder-gray-400 focus:ring-blue-500 focus:border-blue-500",placeholder:"@yourlineid"},null,512),[[d,t.value.lineId]])]),l("div",null,[e[29]||(e[29]=l("label",{for:"youtubeUrl",class:"block text-sm font-semibold text-gray-700"},"Youtube URL:",-1)),a(l("input",{type:"url",id:"youtubeUrl","onUpdate:modelValue":e[10]||(e[10]=s=>t.value.youtubeUrl=s),class:"mt-1 block w-full border-gray-300 rounded-lg shadow-sm p-3 placeholder-gray-400 focus:ring-blue-500 focus:border-blue-500",placeholder:"https://www.youtube.com/..."},null,512),[[d,t.value.youtubeUrl]])]),l("div",null,[e[30]||(e[30]=l("label",{for:"twitterUrl",class:"block text-sm font-semibold text-gray-700"},"Twitter (X) URL:",-1)),a(l("input",{type:"url",id:"twitterUrl","onUpdate:modelValue":e[11]||(e[11]=s=>t.value.twitterUrl=s),class:"mt-1 block w-full border-gray-300 rounded-lg shadow-sm p-3 placeholder-gray-400 focus:ring-blue-500 focus:border-blue-500",placeholder:"https://twitter.com/..."},null,512),[[d,t.value.twitterUrl]])]),l("div",K,[e[31]||(e[31]=l("label",{for:"googleMapIframe",class:"block text-sm font-semibold text-gray-700"},"Google Maps Embed Code (iFrame):",-1)),a(l("textarea",{id:"googleMapIframe","onUpdate:modelValue":e[12]||(e[12]=s=>t.value.googleMapIframe=s),rows:"4",class:"mt-1 block w-full border-gray-300 rounded-lg shadow-sm p-3 font-mono text-xs placeholder-gray-400 focus:ring-blue-500 focus:border-blue-500",placeholder:"วางโค้ด iframe ที่คัดลอกมาจาก Google Maps"},null,512),[[d,t.value.googleMapIframe]]),e[32]||(e[32]=l("p",{class:"text-xs text-gray-500 mt-1"},' ใช้โค้ด HTML iFrame ที่ได้จากการ "ฝังแผนที่" เท่านั้น ',-1))])])]),l("div",O,[e[36]||(e[36]=l("h3",{class:"text-xl font-bold text-gray-800 mb-4 flex items-center"},[l("i",{class:"fas fa-search mr-2 text-yellow-600"}),r(" SEO (การค้นหา) ")],-1)),l("div",$,[l("div",null,[e[34]||(e[34]=l("label",{for:"metaDescription",class:"block text-sm font-semibold text-gray-700"},"Meta Description (160 อักขระ):",-1)),a(l("textarea",{id:"metaDescription","onUpdate:modelValue":e[13]||(e[13]=s=>t.value.metaDescription=s),rows:"3",maxlength:"160",class:"mt-1 block w-full border-gray-300 rounded-lg shadow-sm p-3 placeholder-gray-400 focus:ring-blue-500 focus:border-blue-500"},null,512),[[d,t.value.metaDescription]]),l("p",P,b(t.value.metaDescription?.length||0)+" / 160 อักขระ ",1)]),l("div",null,[e[35]||(e[35]=l("label",{for:"keywords",class:"block text-sm font-semibold text-gray-700"},"Keywords (คั่นด้วยคอมม่า):",-1)),a(l("input",{type:"text",id:"keywords","onUpdate:modelValue":e[14]||(e[14]=s=>t.value.keywords=s),class:"mt-1 block w-full border-gray-300 rounded-lg shadow-sm p-3 placeholder-gray-400 focus:ring-blue-500 focus:border-blue-500",placeholder:"โรงพยาบาล, แม่แตง, สุขภาพ, แพทย์"},null,512),[[d,t.value.keywords]])])])]),l("div",Q,[l("button",{type:"submit",disabled:u.value,class:"flex items-center bg-blue-600 text-white px-8 py-3 rounded-xl hover:bg-blue-700 transition duration-300 text-lg shadow-lg disabled:bg-gray-400 disabled:cursor-not-allowed"},[u.value?(m(),f("i",_)):(m(),f("i",ee)),r(" "+b(u.value?"กำลังบันทึก...":n.value?"อัพเดทการตั้งค่า":"สร้างการตั้งค่า"),1)],8,Z)])],32)])}}});export{se as default};
