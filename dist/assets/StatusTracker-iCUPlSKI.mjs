import{d as h,r as x,l as w,c as o,a as i,b as e,k as v,f as _,v as k,q as C,e as f,t as d,n as u}from"./index-C1nZs7mf.mjs";const T={class:"bg-gray-50 min-h-screen"},U={class:"max-w-4xl mx-auto px-4 py-10"},X={class:"max-w-2xl mx-auto"},j={class:"relative flex items-center bg-white rounded-xl shadow-lg transition-all border border-gray-100 hover:border-blue-300 focus-within:border-blue-500 focus-within:ring-2 focus-within:ring-200"},D={class:"absolute inset-y-0 right-0 flex items-center py-2 pr-2"},N=["disabled"],R={key:0,class:"fas fa-spinner fa-spin mr-2"},B={key:1},E={key:0,class:"mt-12 max-w-3xl mx-auto"},Z={key:0,class:"text-center py-10"},F={key:1,class:"bg-white p-8 rounded-lg shadow-md text-center"},S={class:"text-gray-600 mt-2"},V={class:"text-red-600"},P={key:2,class:"bg-white rounded-lg shadow-md overflow-hidden"},q={class:"p-6 border-b"},A={class:"text-xl font-mono font-bold text-blue-700"},I={class:"mt-2"},K={class:"p-6"},L={class:"space-y-8"},z={class:"flex"},G={class:"text-sm text-gray-500"},H={class:"flex"},M={class:"flex flex-col items-center mr-4"},J={class:"flex"},O={class:"flex flex-col items-center mr-4"},Q={class:"text-sm text-gray-500"},W={key:0,class:"text-sm text-gray-500"},ee=h({__name:"StatusTracker",setup(Y){const b=[{code:"REF-54321-A4B7X1",patientName:"นายสมชาย ใจดี",status:"approved",details:"อนุมัติการส่งตัวเรียบร้อยแล้ว",dateCreated:"2025-10-15T10:30:00Z",dateUpdated:"2025-10-15T14:45:00Z"},{code:"REF-67890-B2C3D4",patientName:"นางสาวสมศรี มีสุข",status:"pending",details:"เจ้าหน้าที่กำลังตรวจสอบเอกสาร",dateCreated:"2025-10-15T11:00:00Z",dateUpdated:null},{code:"REF-11223-E5F6G7",patientName:"นายประหยัด อดออม",status:"rejected",details:"เอกสารส่งตัวไม่ชัดเจน กรุณาติดต่อแผนกส่งต่อเพื่อดำเนินการอีกครั้ง โทร 053-XXX-XXXX ต่อ 123",dateCreated:"2025-10-14T09:00:00Z",dateUpdated:"2025-10-14T16:20:00Z"}],r=x(""),c=x(!1),p=x(!1),s=x(null),y=async n=>{c.value=!0,await new Promise(l=>setTimeout(l,1e3));const t=b.find(l=>l.code.toUpperCase()===n.toUpperCase());s.value=t||null,c.value=!1},m=()=>{r.value.trim()&&(p.value=!0,y(r.value.trim()))},g=n=>n?new Date(n).toLocaleDateString("th-TH",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})+" น.":"",a=w(()=>{const n=s.value?.status==="pending",t=s.value?.status==="approved",l=s.value?.status==="rejected";return{pending:{bg:n?"bg-yellow-400":"bg-green-500",icon:n?"fa-hourglass-half":"fa-check",textColor:n?"text-yellow-600":"text-green-600"},final:{bg:t?"bg-green-500":l?"bg-red-500":"bg-gray-300",icon:t?"fa-check-double":l?"fa-times":"fa-question",textColor:t?"text-green-600":l?"text-red-600":"text-gray-600",title:t?"ดำเนินการสำเร็จ":l?"ถูกปฏิเสธ / ต้องแก้ไข":"รอการดำเนินการ"}}});return(n,t)=>(i(),o("main",T,[e("div",U,[t[15]||(t[15]=e("header",{class:"mb-10 text-center"},[e("h1",{class:"text-3xl md:text-4xl font-extrabold text-gray-900 flex items-center justify-center gap-3"},[e("i",{class:"fas fa-tasks text-blue-600"}),e("span",null,"ติดตามสถานะการส่งตัว")]),e("p",{class:"text-gray-600 mt-2"},"กรอกรหัสที่ได้รับเพื่อตรวจสอบความคืบหน้า")],-1)),e("div",X,[e("div",j,[t[1]||(t[1]=e("div",{class:"absolute inset-y-0 left-0 flex items-center pl-5 pointer-events-none"},[e("i",{class:"fas fa-search text-gray-400 text-xl"})],-1)),_(e("input",{"onUpdate:modelValue":t[0]||(t[0]=l=>r.value=l),onKeyup:C(m,["enter"]),type:"text",placeholder:"กรอกรหัสติดตามสถานะของคุณที่นี่...",class:"w-full p-5 pl-14 pr-40 bg-transparent border-none focus:ring-0 text-lg text-gray-800 placeholder-gray-400"},null,544),[[k,r.value]]),e("div",D,[e("button",{onClick:m,disabled:c.value||!r.value,class:"inline-flex items-center rounded-lg bg-gradient-to-r from-emerald-500 to-green-600 px-8 py-3 text-base font-semibold text-white shadow-md hover:from-emerald-600 hover:to-green-700 transition-all duration-200 ease-in-out disabled:from-gray-400 disabled:to-gray-500 disabled:cursor-not-allowed"},[c.value?(i(),o("i",R)):(i(),o("span",B,"ตรวจสอบสถานะ"))],8,N)])])]),p.value?(i(),o("div",E,[c.value?(i(),o("div",Z,t[2]||(t[2]=[e("i",{class:"fas fa-spinner fa-spin text-4xl text-blue-500"},null,-1),e("p",{class:"mt-4 text-gray-600"},"กำลังตรวจสอบข้อมูล...",-1)]))):s.value?(i(),o("div",P,[e("div",q,[t[9]||(t[9]=e("p",{class:"text-sm text-gray-500"},"ผลการค้นหาสำหรับรหัส:",-1)),e("p",A,d(s.value.code),1),e("p",I,[t[8]||(t[8]=e("strong",null,"ผู้ป่วย:",-1)),f(" "+d(s.value.patientName),1)])]),e("div",K,[t[14]||(t[14]=e("h4",{class:"font-bold text-lg mb-6"},"สถานะ",-1)),e("div",L,[e("div",z,[t[11]||(t[11]=e("div",{class:"flex flex-col items-center mr-4"},[e("div",null,[e("div",{class:"flex items-center justify-center w-10 h-10 bg-green-500 rounded-full"},[e("i",{class:"fas fa-check text-white"})])]),e("div",{class:"w-px h-full bg-gray-300"})],-1)),e("div",null,[t[10]||(t[10]=e("p",{class:"font-semibold text-gray-800"},"ส่งข้อมูลสำเร็จ",-1)),e("p",G,d(g(s.value.dateCreated)),1)])]),e("div",H,[e("div",M,[e("div",null,[e("div",{class:u(["flex items-center justify-center w-10 h-10 rounded-full",a.value.pending.bg])},[e("i",{class:u(["fas",[a.value.pending.icon,a.value.pending.textColor]])},null,2)],2)]),t[12]||(t[12]=e("div",{class:"w-px h-full bg-gray-300"},null,-1))]),e("div",null,[e("p",{class:u(["font-semibold",a.value.pending.textColor])}," เจ้าหน้าที่รับเรื่องแล้ว ",2),t[13]||(t[13]=e("p",{class:"text-sm text-gray-500"},"กำลังรอการตรวจสอบเอกสารและข้อมูล",-1))])]),e("div",J,[e("div",O,[e("div",null,[e("div",{class:u(["flex items-center justify-center w-10 h-10 rounded-full",a.value.final.bg])},[e("i",{class:u(["fas",[a.value.final.icon,a.value.final.textColor]])},null,2)],2)])]),e("div",null,[e("p",{class:u(["font-semibold",a.value.final.textColor])},d(a.value.final.title),3),e("p",Q,d(s.value.details),1),s.value.dateUpdated?(i(),o("p",W,d(g(s.value.dateUpdated)),1)):v("",!0)])])])])])):(i(),o("div",F,[t[6]||(t[6]=e("i",{class:"fas fa-exclamation-triangle text-yellow-500 text-5xl mb-4"},null,-1)),t[7]||(t[7]=e("h3",{class:"text-2xl font-bold text-gray-800"},"ไม่พบข้อมูล",-1)),e("p",S,[t[3]||(t[3]=f(" ไม่พบข้อมูลสำหรับรหัส ")),e("strong",V,d(r.value),1),t[4]||(t[4]=e("br",null,null,-1)),t[5]||(t[5]=f("กรุณาตรวจสอบความถูกต้องแล้วลองใหม่อีกครั้ง "))])]))])):v("",!0)])]))}});export{ee as default};
